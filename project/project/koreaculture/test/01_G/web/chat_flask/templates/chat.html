<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>korea culture CHATBOT</title>
    <script src="https://kit.fontawesome.com/77ad8525ff.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/chat.css') }}">
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
</head>
<body>
    <div id="app">
        <!-- Chatbot Header -->
        <div class="top">
          <div v-for="i in starRange" :key="i" class="star" :class="'s' + i"></div>
          <h2 class="title">κµ­λ―Ό μ—¬κ°€ν™λ™ μ•λ‚΄ μ±—λ΄‡</h2>
          <h4 class="sub-title">μ‚¬μ©μλ‹μ κ΄€μ‹¬μ‚¬λ¥Ό μ§λ¬Έν•μ„Έμ”π</h4>
          <form @submit.prevent="subject_chk" class="search-bar">
            <input type="text" id="gameTitle" name="gameTitle" v-model="inputSubject" placeholder="κ΄€μ‹¬μ‚¬λ¥Ό μ…λ ¥ν•μ„Έμ”" required />
            <button type="submit" class="search-button">
              <i class="fa-solid fa-search"></i>
            </button>
          </form>
          <h2 class="title" v-text="formattedSubject"></h2>
        </div>

        <!-- Chat Display Area -->
        <div class="chat-container">
          <div class="chat-screen" id="chat-screen">
            <div class="chat-bubble bot">
              <div class="avatar">
                <img width="40" height="40" src="{{ url_for('static', filename='images/chat/Bot_img.png') }}" alt="Bot" style="border-radius: 50%;">
              </div>
              <div class="message">μ•λ…•ν•μ„Έμ”. λ¬Έν™” μ—¬κ°€μƒν™ μ •λ³΄λ¥Ό μ•λ ¤λ“λ¦΄κ²μ”! μ§λ¬Έμ„ μ‹μ‘ν•΄λ³ΌκΉμ”?π</div>
            </div>
            <div v-for="(chat, index) in chatHistory" :key="index" class="chat-bubble" :class="chat.sender">
              <div class="avatar" v-if="chat.sender === 'bot'">
                <img width="40" height="40" src="{{ url_for('static', filename='images/chat/Bot_img.png') }}" alt="Bot" style="border-radius: 50%" />
              </div>
              <div class="message" v-text="chat.text"></div>
            </div>
          </div>

          <!-- Input Area -->
          <div class="input-container">
            <input type="text" class="input-box" v-model="inputQuestion" placeholder="λ©”μ‹μ§€λ¥Ό μ…λ ¥ν•μ„Έμ”" />
            <button type="button" class="submit-button" @click="question_chk">μ „μ†΅</button>
          </div>
        </div>
      </div>
      
    <!-- λ΅μ»¬ μλ°”μ¤ν¬λ¦½νΈ νμΌ -->
    <script src="{{ url_for('static', filename='js/chat.js') }}"></script>
</body>
</html>
